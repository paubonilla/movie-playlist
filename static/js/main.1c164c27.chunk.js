(this["webpackJsonpmovie-playlist"]=this["webpackJsonpmovie-playlist"]||[]).push([[0],{21:function(e,t,a){e.exports=a(34)},26:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(19),l=a.n(r),i=(a(26),a(7)),s=a(1),o=function(){return n.a.createElement("header",null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"inner-content"},n.a.createElement("div",{className:"brand"},n.a.createElement(i.b,{to:"/"},"WatchList")),n.a.createElement("ul",{className:"nav-links"},n.a.createElement("li",null,n.a.createElement(i.b,{to:"/"},"Watch List")),n.a.createElement("li",null,n.a.createElement(i.b,{to:"/watched"},"Watched")),n.a.createElement("li",null,n.a.createElement(i.b,{to:"/add",className:"btn"},"+ Add"))))))},m=a(11),d=a(13),u=a(6),h=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCHLIST":return Object(u.a)(Object(u.a)({},e),{},{watchList:[t.payload].concat(Object(d.a)(e.watchList))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(u.a)(Object(u.a)({},e),{},{watchList:e.watchList.filter((function(e){return e.id!==t.payload}))});case"ADD_MOVIE_TO_WATCHED":return Object(u.a)(Object(u.a)({},e),{},{watchList:e.watchList.filter((function(e){return e.id!==t.payload.id})),watched:[t.payload].concat(Object(d.a)(e.watched))});case"MOVE_TO_WATCHLIST":return Object(u.a)(Object(u.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload.id})),watchList:[t.payload].concat(Object(d.a)(e.watchList))});case"REMOVE_FROM_WATCHED":return Object(u.a)(Object(u.a)({},e),{},{watched:e.watched.filter((function(e){return e.id!==t.payload}))});default:return e}},E={watchList:localStorage.getItem("watchList")?JSON.parse(localStorage.getItem("watchList")):[],watched:localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[]},v=Object(c.createContext)(E),p=function(e){var t=Object(c.useReducer)(h,E),a=Object(m.a)(t,2),r=a[0],l=a[1];Object(c.useEffect)((function(){localStorage.setItem("watchList",JSON.stringify(r.watchList)),localStorage.setItem("watched",JSON.stringify(r.watched))}),[r]);return n.a.createElement(v.Provider,{value:{watchList:r.watchList,watched:r.watched,addMovieToWatchList:function(e){l({type:"ADD_MOVIE_TO_WATCHLIST",payload:e})},removeMovieFromWatchList:function(e){l({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})},addMovieToWatched:function(e){l({type:"ADD_MOVIE_TO_WATCHED",payload:e})},moveToWacthList:function(e){l({type:"MOVE_TO_WATCHLIST",payload:e})},removeFromWatched:function(e){l({type:"REMOVE_FROM_WATCHED",payload:e})}}},e.children)},f=function(e){var t=e.movie,a=e.type,r=Object(c.useContext)(v),l=r.removeMovieFromWatchList,i=r.addMovieToWatched,s=r.moveToWacthList,o=r.removeFromWatched;return n.a.createElement("div",{className:"inner-card-controls"},"watchList"===a&&n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{className:"ctrl-btn",onClick:function(){return i(t)}},n.a.createElement("i",{className:"fa-fw far fa-eye"})),n.a.createElement("button",{className:"ctrl-btn",onClick:function(){return l(t.id)}},n.a.createElement("i",{className:"fa-fw fa fa-times"}))),"watched"===a&&n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{className:"ctrl-btn",onClick:function(){return s(t)}},n.a.createElement("i",{className:"fa-fw far fa-eye-slash"})),n.a.createElement("button",{className:"ctrl-btn",onClick:function(){return o(t.id)}},n.a.createElement("i",{className:"fa-fw fa fa-times"}))))},b=function(e){var t=e.movie,a=e.type;return n.a.createElement("div",{className:"movie-card"},n.a.createElement("div",{className:"overlay"}),t.poster_path?n.a.createElement("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):n.a.createElement("div",{className:"filler-poster"}),n.a.createElement(f,{movie:t,type:a}))},N=function(){var e=Object(c.useContext)(v).watchList;return n.a.createElement("div",{className:"movie-page"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"header"},n.a.createElement("h1",{className:"heading"},"My Watchlist"),n.a.createElement("span",{className:"count-pill"},e.length," ",0===e.length?"Movie":"Movies")),e.length>0?n.a.createElement("div",{className:"movie-grid"},e.map((function(e){return n.a.createElement(b,{movie:e,type:"watchList"})}))):n.a.createElement("h2",{className:"no-movies"},"No movies in your list")))},O=function(){var e=Object(c.useContext)(v).watched;return n.a.createElement("div",{className:"movie-page"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"header"},n.a.createElement("h1",{className:"heading"},"Watched movies"),n.a.createElement("span",{className:"count-pill"},e.length," ",0===e.length?"Movie":"Movies")),e.length>0?n.a.createElement("div",{className:"movie-grid"},e.map((function(e){return n.a.createElement(b,{movie:e,type:"watched"})}))):n.a.createElement("h2",{className:"no-movies"},"No movies in your list")))},w=function(e){var t=e.movie,a=Object(c.useContext)(v),r=a.addMovieToWatchList,l=a.addMovieToWatched,i=a.watchList,s=a.watched,o=i.find((function(e){return e.id===t.id})),m=s.find((function(e){return e.id===t.id})),d=!!o||!!m,u=!!m;return n.a.createElement("div",{className:"result-card"},n.a.createElement("div",{className:"poster-wrapper"},t.poster_path?n.a.createElement("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):n.a.createElement("div",{className:"filler-poster"})),n.a.createElement("div",{className:"info"},n.a.createElement("div",{className:"header"},n.a.createElement("h3",{className:"title"},t.title),n.a.createElement("h4",{className:"release-date"},t.release_date?t.release_date.substring(0,4):"--")),n.a.createElement("div",{className:"controls"},n.a.createElement("button",{className:"btn",disabled:d,onClick:function(){return r(t)}},"Add to Watchlist"),n.a.createElement("button",{className:"btn",disabled:u,onClick:function(){return l(t)}},"Add to Watched"))))},g=function(){var e=Object(c.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],l=Object(c.useState)([]),i=Object(m.a)(l,2),s=i[0],o=i[1];return n.a.createElement("div",{className:"add-page"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"add-content"},n.a.createElement("div",{className:"input-wrapper"},n.a.createElement("input",{type:"text",placeholder:"Search for a movie",value:a,onChange:function(e){e.preventDefault(),r(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("683901bcffa7e1e0093d17ab4aaa5a35","&language=en-US&page=1&include_adult=false&query=").concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e.errors?o([]):o(e.results)}))}})),s.length>0&&n.a.createElement("div",{className:"results"},s.map((function(e){return n.a.createElement("li",{key:e.id},n.a.createElement(w,{movie:e}))}))))))};a(32),a(33);var y=function(){return n.a.createElement(p,null,n.a.createElement(i.a,null,n.a.createElement(o,null),n.a.createElement(s.c,null,n.a.createElement(s.a,{path:"/",exact:!0,component:N}),n.a.createElement(s.a,{path:"/watched",component:O}),n.a.createElement(s.a,{path:"/add",component:g}))))};l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(y,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.1c164c27.chunk.js.map